(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{9375:function(e,a,t){Promise.resolve().then(t.bind(t,3299))},3299:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return w}});var r=t(288),s=t(5192),n=t(3320),i=t(7719),l=t(1676),d=t(1782),o=t(3699),c=t(6021);let u=(0,c.Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var m=t(8152),f=t(1258),h=t(7773),x=t(1207),p=t(2612),g=t(8610);let v=(0,c.Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),y=(0,c.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var b=t(1204),j=t(3113),N=t(1897);function w(e){let{children:a}=e,[t,l]=(0,s.useState)(!1),[d,o]=(0,s.useState)(!0),[c,w]=(0,s.useState)(!1),[S,z]=(0,s.useState)(null),C=(0,n.useRouter)();(0,s.useEffect)(()=>{Z()},[]);let Z=async()=>{try{let e=localStorage.getItem("admin_token");if(!e){o(!1);return}let a=await fetch("/api/admin/verify.php",{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();z(e.admin),l(!0)}else localStorage.removeItem("admin_token")}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("admin_token")}finally{o(!1)}};if(d)return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading Admin Panel..."})]})});if(!t)return(0,r.jsx)(k,{onLogin:Z});let _=[{name:"Dashboard",href:"/admin",icon:u},{name:"Bookings",href:"/admin/bookings",icon:m.Z},{name:"Users",href:"/admin/users",icon:f.Z},{name:"Settings",href:"/admin/settings",icon:h.Z}];return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(i.z,{variant:"ghost",size:"sm",className:"lg:hidden mr-2",onClick:()=>w(!c),children:c?(0,r.jsx)(x.Z,{className:"h-5 w-5"}):(0,r.jsx)(p.Z,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)(g.Z,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Darbhanga Travels"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(b.default,{href:"/",className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(v,{className:"h-5 w-5"})}),(0,r.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>{localStorage.removeItem("admin_token"),l(!1),z(null),C.push("/admin/login")},children:[(0,r.jsx)(y,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(j.M,{children:c&&(0,r.jsx)(N.E.div,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg lg:static lg:translate-x-0",children:(0,r.jsx)("nav",{className:"mt-8 px-4",children:(0,r.jsx)("ul",{className:"space-y-2",children:_.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)(b.default,{href:e.href,className:"flex items-center space-x-3 px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>w(!1),children:[(0,r.jsx)(e.icon,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"font-medium",children:e.name})]})},e.name))})})})}),(0,r.jsx)("div",{className:"hidden lg:block w-64 bg-white shadow-sm",children:(0,r.jsx)("nav",{className:"mt-8 px-4",children:(0,r.jsx)("ul",{className:"space-y-2",children:_.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)(b.default,{href:e.href,className:"flex items-center space-x-3 px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,r.jsx)(e.icon,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"font-medium",children:e.name})]})},e.name))})})}),(0,r.jsx)("div",{className:"flex-1 lg:ml-0",children:(0,r.jsx)("main",{className:"p-6",children:a})})]}),c&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>w(!1)})]})}function k(e){let{onLogin:a}=e,[t,n]=(0,s.useState)({username:"",password:""}),[c,u]=(0,s.useState)(!1),[m,f]=(0,s.useState)(""),h=async e=>{e.preventDefault(),u(!0),f("");try{let e=await fetch("/api/admin/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await e.json();e.ok?(localStorage.setItem("admin_token",r.token),a()):f(r.message||"Login failed")}catch(e){f("Network error. Please try again.")}finally{u(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:(0,r.jsx)(l.Zb,{className:"w-full max-w-md shadow-2xl",children:(0,r.jsxs)(l.aY,{className:"p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(g.Z,{className:"h-8 w-8 text-white"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Darbhanga Travels Admin Panel"})]}),(0,r.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{htmlFor:"username",children:"Username"}),(0,r.jsx)(d.I,{id:"username",type:"text",value:t.username,onChange:e=>n(a=>({...a,username:e.target.value})),className:"mt-1",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{htmlFor:"password",children:"Password"}),(0,r.jsx)(d.I,{id:"password",type:"password",value:t.password,onChange:e=>n(a=>({...a,password:e.target.value})),className:"mt-1",required:!0})]}),m&&(0,r.jsx)("div",{className:"text-red-600 text-sm text-center",children:m}),(0,r.jsx)(i.z,{type:"submit",className:"w-full",disabled:c,children:c?"Signing in...":"Sign In"})]})]})})})}},7719:function(e,a,t){"use strict";t.d(a,{d:function(){return d},z:function(){return o}});var r=t(288),s=t(5192),n=t(8996),i=t(7940),l=t(6056);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,a)=>{let{className:t,variant:s,size:i,asChild:o=!1,...c}=e,u=o?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(d({variant:s,size:i,className:t})),ref:a,...c})});o.displayName="Button"},1676:function(e,a,t){"use strict";t.d(a,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return c},ll:function(){return d}});var r=t(288),s=t(5192),n=t(6056);let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});i.displayName="Card";let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});l.displayName="CardHeader";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});d.displayName="CardTitle";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},1782:function(e,a,t){"use strict";t.d(a,{I:function(){return i}});var r=t(288),s=t(5192),n=t(6056);let i=s.forwardRef((e,a)=>{let{className:t,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...i})});i.displayName="Input"},3699:function(e,a,t){"use strict";t.d(a,{_:function(){return o}});var r=t(288),s=t(5192),n=t(482),i=t(7940),l=t(6056);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.f,{ref:a,className:(0,l.cn)(d(),t),...s})});o.displayName=n.f.displayName},6056:function(e,a,t){"use strict";t.d(a,{cn:function(){return n}});var r=t(9773),s=t(7009);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.m6)((0,r.W)(a))}},8152:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(6021).Z)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},7773:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(6021).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7035:function(e,a,t){"use strict";t.d(a,{WV:function(){return l},jH:function(){return d}});var r=t(5192),s=t(9719),n=t(8996),i=t(288),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let t=r.forwardRef((e,t)=>{let{asChild:r,...s}=e,l=r?n.g7:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...s,ref:t})});return t.displayName=`Primitive.${a}`,{...e,[a]:t}},{});function d(e,a){e&&s.flushSync(()=>e.dispatchEvent(a))}}},function(e){e.O(0,[517,983,54,24,240,744],function(){return e(e.s=9375)}),_N_E=e.O()}]);